object State extends Enumeration {
  final val DIRTY, CLEAN, CONFLICT = Value
}


if( !pom.file.exists ){
  DIRTY;
}else if (checksum.file.exists) {
  val sha = new String(MessageDigest.getInstance("SHA").digest( pom.slurp.getBytes ))
  if( sha == checksum.slurp ) CLEAN
  else DIRTY
} else {
  CONFLICT
}



pomFile(massFile) match {
  case (pom, checksum) if (!pom.file.exists) => DIRTY
  case (pom, checksum) if (!checksum.file.exists) => CONFLICT
  case (pom, checksum) => {
    val sha = new String(MessageDigest.getInstance("SHA").digest( pom.slurp.getBytes ))
    if( sha == checksum.slurp ) CLEAN
    else DIRTY
  }
}


